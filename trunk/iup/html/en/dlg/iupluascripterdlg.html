<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Strict//EN">
<html>
<head>
<meta http-equiv="Content-Language" content="en-us">
<title>IupLuaScripterDlg</title>
<link rel="stylesheet" type="text/css" href="../../style.css">
<style type="text/css">
.style1 {
	border-width: 0;
	padding-bottom: 2em;
}
</style>
</head>
<body>
<div id="navigation">
  <ul>
    <li><a href="#Creation">Creation</a></li>
    <li><a href="#Attributes">Attributes</a></li>
    <li><a href="#Callbacks">Callbacks</a></li>
    <li><a href="#Notes">Notes</a></li>
    <li><a href="#Examples">Examples</a></li>
    <li><a href="#SeeAlso">See Also</a></li>
  </ul>
</div>

<h2>IupLuaScripterDlg<font size="4"> (since 3.22)</font></h2>
<p>Creates a Lua script developer dialog using the
<a href="iupscintilladlg.html">IupScintillaDlg</a> dialog. It can edit, run and 
debug Lua scripts. The dialog can be shown with <strong>IupShow</strong>, <strong>IupShowXY</strong> 
or <strong>IupPopup</strong>. The dialog inherits from the
<a href="iupscintilladlg.html">IupScintillaDlg</a> dialog.</p>
<h3>Initialization and Usage</h3>
<p>The <b>IupLuaScripterDlgOpen</b> function must be called after a <b>IupOpen</b>, so that the control can be used. 
  The &quot;iupluascripterdlg.h&quot; file must also be included in the source code. The program must be linked to the controls 
  library (iupluascripterdlg), with the <strong>iuplua</strong> library, with 
the <a href="../ctrl/iup_scintilla.html">iup_scintilla</a> 
library, and with the <strong>Lua</strong> library.</p>
<p>To make the control available in Lua use require&quot;iupluascripterdlg&quot; or manually 
call the initialization function in C, <strong>iupluascripterdlglua_open</strong>, after calling <b>iuplua_open</b>.
  &nbsp;When manually calling the function the iupluascripterdlg.h file must also be included in the source code 
and the program must be linked to the 
Lua control 
  library (iupluascripterdlg).</p>
<p>The control itself and its Lua binding are implemented in the same library 
since both depends on <strong>iuplua</strong> and <strong>Lua</strong>. The 
dialog works for Lua versions 5.1, 5.2 and 5.3.</p>
<p>The <strong>iuplua</strong> library must be initialized before creating any 
instance of the <strong>IupLuaScripterDlg</strong> dialog.</p>
<h3>Guide</h3>
<p>Files can be open from the command line, from the File/Open menu, or from 
drag and drop from the system file manager.</p>
<p>All the <strong>IupScintillaDlg</strong> text processing are available. 
Additionally it provides a <strong>Lua</strong> menu, and 3 tabs bellow the text 
with <strong>Console</strong>, <strong>Debug</strong> and <strong>Breaks</strong> 
interfaces.</p>
<p>The text editor has syntax highlight for the Lua language and autocomplete 
for Lua keywords.</p>
<p>&nbsp;</p>
<h3>To Do's</h3>
<ul>
	<li>Support for multiple files</li>
	<li>&nbsp;Watch tab for global variables and expressions</li>
	<li>Detachable Console, Debug, Breakpoints</li>
	<li>Debug and breakpoints in strings</li>
	<li>Multi-language support (portuguese and spanish)</li>
</ul>
<h3><a name="Creation">Creation</a></h3>
<pre>Ihandle* IupLuaScripterDlg(void); [in C]
iup.luascripterdlg{} -&gt; (<strong>elem</strong>: ihandle) [in Lua]
luascripterdlg() [in LED]</pre>
<p><u>Returns:</u> the identifier of the 
  created element, or NULL if an error occurs.</p>

<h3><a name="Attributes">Attributes</a></h3>
<p>Supports all the <a href="iupdialog.html#Attributes">IupDialog</a> and
<a href="iupscintilladlg.html">IupScintillaDlg</a> attributes. </p>
<h3><a name="Callbacks">Callbacks</a></h3>
<p>Supports all the <a href="iupdialog.html#Callbacks">IupDialog</a> and
<a href="iupscintilladlg.html">IupScintillaDlg</a> callbacks.</p>


<h3><a name="Notes">Notes</a></h3>
<p>The dialog can be freely customized to incorporate other menu items or 
controls. </p>
<h3><a name="Examples">Examples</a></h3>
<pre>
int main(int argc, char **argv)
{
  Ihandle *config;
  lua_State *L;
  Ihandle *menu;
  Ihandle *main_dialog;

  L = luaL_newstate();
  luaL_openlibs(L);

  createargtable(L, argv, argc);  /* create table 'arg' */

  IupOpen(&argc, &argv);
  IupLuaScripterDlgOpen();

  iuplua_open(L);

  IupSetGlobal("GLOBALLAYOUTDLGKEY", "Yes");

  config = IupConfig();
  IupSetAttribute(config, "APP_NAME", "iupluascripter");
  IupConfigLoad(config);

  main_dialog = IupLuaScripterDlg();

  IupSetAttributeHandle(main_dialog, "CONFIG", config);
  IupSetAttribute(main_dialog, "SUBTITLE", "IupLuaScriter");

  menu = IupGetAttributeHandle(main_dialog, "MENU");
  IupAppend(menu, IupSubmenu("&Help", IupMenu(
    IupSetCallbacks(IupItem("&Help...", NULL), "ACTION", (Icallback)item_help_action_cb, NULL),
    IupSetCallbacks(IupItem("&About...", NULL), "ACTION", (Icallback)item_about_action_cb, NULL),
    NULL)));

  /* show the dialog at the last position, with the last size */
  IupConfigDialogShow(config, main_dialog, "MainWindow");

  /* initialize the current file */
  IupSetAttribute(main_dialog, "NEWFILE", NULL);

  /* open a file from the command line (allow file association in Windows) */
  if (argc > 1 && argv[1])
  {
    const char* filename = argv[1];
    IupSetStrAttribute(main_dialog, "OPENFILE", filename);
  }

  IupMainLoop();

  IupDestroy(config);
  IupDestroy(main_dialog);

  IupClose();

  lua_close(L);
  return EXIT_SUCCESS;
}
</pre>
<div align="center">
  <center>
  <table border="0" cellpadding="5" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" id="AutoNumber1">
    <tr>
      <td  align="center" class="style1"><img border="0" src="images/luascripterdlg.png"><br>
	  Paused while debugging</td>
    </tr>
    <tr>
      <td  align="center" class="style1"><img border="0" src="images/luascripterdlg1.png"><br>
	  Command line and output<br></td>
    </tr>
    <tr>
      <td  align="center" class="style1"><img border="0" src="images/luascripterdlg2.png"><br>
	  Menus and breakpoints</td>
    </tr>
  </table>
  </center>
</div>
<h3><a name="SeeAlso">See Also</a></h3>
<p>
<a href="../ctrl/iup_scintilla.html">
IupScintilla</a>,
<a href="iupdialog.html">IupDialog</a></p>

</body>

</html>